SET DATABASE UNIQUE NAME HSQLDB5A7B19415E
SET DATABASE GC 0
SET DATABASE DEFAULT RESULT MEMORY ROWS 0
SET DATABASE EVENT LOG LEVEL 0
SET DATABASE TRANSACTION CONTROL LOCKS
SET DATABASE DEFAULT ISOLATION LEVEL READ COMMITTED
SET DATABASE TRANSACTION ROLLBACK ON CONFLICT TRUE
SET DATABASE TEXT TABLE DEFAULTS ''
SET DATABASE SQL NAMES FALSE
SET DATABASE SQL REFERENCES FALSE
SET DATABASE SQL SIZE TRUE
SET DATABASE SQL TYPES FALSE
SET DATABASE SQL TDC DELETE TRUE
SET DATABASE SQL TDC UPDATE TRUE
SET DATABASE SQL TRANSLATE TTI TYPES TRUE
SET DATABASE SQL CONCAT NULLS TRUE
SET DATABASE SQL UNIQUE NULLS TRUE
SET DATABASE SQL CONVERT TRUNCATE TRUE
SET DATABASE SQL AVG SCALE 0
SET DATABASE SQL DOUBLE NAN TRUE
SET FILES WRITE DELAY 500 MILLIS
SET FILES BACKUP INCREMENT TRUE
SET FILES CACHE SIZE 10000
SET FILES CACHE ROWS 50000
SET FILES SCALE 32
SET FILES LOB SCALE 32
SET FILES DEFRAG 0
SET FILES NIO TRUE
SET FILES NIO SIZE 256
SET FILES LOG TRUE
SET FILES LOG SIZE 50
CREATE USER SA PASSWORD DIGEST 'd41d8cd98f00b204e9800998ecf8427e'
ALTER USER SA SET LOCAL TRUE
CREATE SCHEMA PUBLIC AUTHORIZATION DBA
SET SCHEMA PUBLIC
CREATE SEQUENCE PUBLIC.HIBERNATE_SEQUENCE AS INTEGER START WITH 1
CREATE MEMORY TABLE PUBLIC.BARMAN(USER_ID BIGINT NOT NULL PRIMARY KEY,EMAIL VARCHAR(255),NAME VARCHAR(255),PASSWORD VARCHAR(255),SURNAME VARCHAR(255),ULOGA VARCHAR(255),BIRTH_DATE TIMESTAMP,FIRST_LOG BOOLEAN,PANTS_SIZE VARCHAR(255),SHOE_SIZE VARCHAR(255),RESTAURANT_RESTAURANT_ID BIGINT)
CREATE MEMORY TABLE PUBLIC.BUYING_ORDER(BUYING_ORDER_ID BIGINT NOT NULL PRIMARY KEY,ACTIVE_FROM TIMESTAMP,ACTIVE_UNTIL TIMESTAMP,ORDER_DESCRIPTION VARCHAR(255),STATUS VARCHAR(255),RESTAURANT_RESTAURANT_ID BIGINT)
CREATE MEMORY TABLE PUBLIC.COOK(USER_ID BIGINT NOT NULL PRIMARY KEY,EMAIL VARCHAR(255),NAME VARCHAR(255),PASSWORD VARCHAR(255),SURNAME VARCHAR(255),ULOGA VARCHAR(255),BIRTH_DATE TIMESTAMP,FIRST_LOG BOOLEAN,PANTS_SIZE VARCHAR(255),SHOE_SIZE VARCHAR(255),RESTAURANT_RESTAURANT_ID BIGINT,DISH_TYPE_DISHTYPE_ID BIGINT)
CREATE MEMORY TABLE PUBLIC.DISH(FOOD_DRINK_ITEM_ID BIGINT NOT NULL PRIMARY KEY,DESCRIPTION VARCHAR(255),NAME VARCHAR(255),PRICE DOUBLE,RESTAURANT_RESTAURANT_ID BIGINT,DISH_TYPE_DISHTYPE_ID BIGINT)
CREATE MEMORY TABLE PUBLIC.DISH_TYPE(DISHTYPE_ID BIGINT NOT NULL PRIMARY KEY,NAME VARCHAR(255))
CREATE MEMORY TABLE PUBLIC.DRINK(FOOD_DRINK_ITEM_ID BIGINT NOT NULL PRIMARY KEY,DESCRIPTION VARCHAR(255),NAME VARCHAR(255),PRICE DOUBLE,RESTAURANT_RESTAURANT_ID BIGINT,TYPE_DRINKTYPE_ID BIGINT)
CREATE MEMORY TABLE PUBLIC.DRINK_TYPE(DRINKTYPE_ID BIGINT NOT NULL PRIMARY KEY,NAME VARCHAR(255))
CREATE MEMORY TABLE PUBLIC.EMPLOYEE(USER_ID BIGINT NOT NULL PRIMARY KEY,EMAIL VARCHAR(255),NAME VARCHAR(255),PASSWORD VARCHAR(255),SURNAME VARCHAR(255),ULOGA VARCHAR(255),BIRTH_DATE TIMESTAMP,FIRST_LOG BOOLEAN,PANTS_SIZE VARCHAR(255),SHOE_SIZE VARCHAR(255),RESTAURANT_RESTAURANT_ID BIGINT)
CREATE MEMORY TABLE PUBLIC.FOOD_DRINK_ITEM(FOOD_DRINK_ITEM_ID BIGINT NOT NULL PRIMARY KEY,DESCRIPTION VARCHAR(255),NAME VARCHAR(255),PRICE DOUBLE,RESTAURANT_RESTAURANT_ID BIGINT)
CREATE MEMORY TABLE PUBLIC.GUEST(USER_ID BIGINT NOT NULL PRIMARY KEY,EMAIL VARCHAR(255),NAME VARCHAR(255),PASSWORD VARCHAR(255),SURNAME VARCHAR(255),ULOGA VARCHAR(255),ADRESS VARCHAR(255),IMAGE BLOB(255),VISITS INTEGER)
CREATE MEMORY TABLE PUBLIC.GUEST_FRIENDS(GUEST_USER_ID BIGINT NOT NULL,FRIENDS_USER_ID BIGINT NOT NULL,CONSTRAINT FKQ6Q64SRX4GPHB9X8GU8HJ0LFE FOREIGN KEY(FRIENDS_USER_ID) REFERENCES PUBLIC.GUEST(USER_ID),CONSTRAINT FKJ7IV3F08SVJ8DJX7K50HNMCKK FOREIGN KEY(GUEST_USER_ID) REFERENCES PUBLIC.GUEST(USER_ID))
CREATE MEMORY TABLE PUBLIC.GUEST_REQUESTS(GUEST_USER_ID BIGINT NOT NULL,REQUESTS_USER_ID BIGINT NOT NULL,CONSTRAINT FK239K1SAPCYWJQX7TK733A1G72 FOREIGN KEY(REQUESTS_USER_ID) REFERENCES PUBLIC.GUEST(USER_ID),CONSTRAINT FKGW0KNOMUP78JBSFI47UNNULUJ FOREIGN KEY(GUEST_USER_ID) REFERENCES PUBLIC.GUEST(USER_ID))
CREATE MEMORY TABLE PUBLIC.INVITATION(INVITATION_ID BIGINT NOT NULL PRIMARY KEY,CONFIRMED BOOLEAN NOT NULL,INVITED_USER_ID BIGINT,RESERVATION_RESERVATION_ID BIGINT,CONSTRAINT FKO9EC411HF6QBOJ4WFRDI3CO11 FOREIGN KEY(INVITED_USER_ID) REFERENCES PUBLIC.GUEST(USER_ID))
CREATE MEMORY TABLE PUBLIC.OFFER(OFFER_ID BIGINT NOT NULL PRIMARY KEY,ACCEPTED VARCHAR(255),DELIVERY_DEADLINE VARCHAR(255),DESCRIPTION VARCHAR(255),PRICE VARCHAR(255),MYORDER_BUYING_ORDER_ID BIGINT,SALESMAN_USER_ID BIGINT,CONSTRAINT FK9W228ATBAQUF9LFD0B6BALTJG FOREIGN KEY(MYORDER_BUYING_ORDER_ID) REFERENCES PUBLIC.BUYING_ORDER(BUYING_ORDER_ID))
CREATE MEMORY TABLE PUBLIC.RESERVATION(RESERVATION_ID BIGINT NOT NULL PRIMARY KEY,DATE_TIME TIMESTAMP,DURATION INTEGER NOT NULL,HOST_USER_ID BIGINT,RESTAURANT_RESTAURANT_ID BIGINT,CONSTRAINT FKLPWPRRYA9VTG48X3N8AIF2R60 FOREIGN KEY(HOST_USER_ID) REFERENCES PUBLIC.GUEST(USER_ID))
CREATE MEMORY TABLE PUBLIC.RESTAURANT(RESTAURANT_ID BIGINT NOT NULL PRIMARY KEY,DESCRIPTION VARCHAR(255),LAT VARCHAR(255),LNG VARCHAR(255),NAME VARCHAR(255))
CREATE MEMORY TABLE PUBLIC.RESTAURANT_MANAGER(USER_ID BIGINT NOT NULL PRIMARY KEY,EMAIL VARCHAR(255),NAME VARCHAR(255),PASSWORD VARCHAR(255),SURNAME VARCHAR(255),ULOGA VARCHAR(255),RESTAURANT_RESTAURANT_ID BIGINT,CONSTRAINT FKTE4QEECFPI380H9F7Q9EAPAEY FOREIGN KEY(RESTAURANT_RESTAURANT_ID) REFERENCES PUBLIC.RESTAURANT(RESTAURANT_ID))
CREATE MEMORY TABLE PUBLIC.SALESMAN(USER_ID BIGINT NOT NULL PRIMARY KEY,EMAIL VARCHAR(255),NAME VARCHAR(255),PASSWORD VARCHAR(255),SURNAME VARCHAR(255),ULOGA VARCHAR(255),FIRST_LOG BOOLEAN NOT NULL)
CREATE MEMORY TABLE PUBLIC.STEWARD(USER_ID BIGINT NOT NULL PRIMARY KEY,EMAIL VARCHAR(255),NAME VARCHAR(255),PASSWORD VARCHAR(255),SURNAME VARCHAR(255),ULOGA VARCHAR(255),BIRTH_DATE TIMESTAMP,FIRST_LOG BOOLEAN,PANTS_SIZE VARCHAR(255),SHOE_SIZE VARCHAR(255),RESTAURANT_RESTAURANT_ID BIGINT,CONSTRAINT FK_ETC8SKMBML7C4T8WP0KWDKTWW FOREIGN KEY(RESTAURANT_RESTAURANT_ID) REFERENCES PUBLIC.RESTAURANT(RESTAURANT_ID))
CREATE MEMORY TABLE PUBLIC.SYSTEM_MANAGER(USER_ID BIGINT NOT NULL PRIMARY KEY,EMAIL VARCHAR(255),NAME VARCHAR(255),PASSWORD VARCHAR(255),SURNAME VARCHAR(255),ULOGA VARCHAR(255))
CREATE MEMORY TABLE PUBLIC.USER(USER_ID BIGINT NOT NULL PRIMARY KEY,EMAIL VARCHAR(255),NAME VARCHAR(255),PASSWORD VARCHAR(255),SURNAME VARCHAR(255),ULOGA VARCHAR(255))
ALTER TABLE PUBLIC.BARMAN ADD CONSTRAINT FK_J1O5BQMSKXNIPUBI5MOIAJWBI FOREIGN KEY(RESTAURANT_RESTAURANT_ID) REFERENCES PUBLIC.RESTAURANT(RESTAURANT_ID)
ALTER TABLE PUBLIC.BUYING_ORDER ADD CONSTRAINT FKHCDKIKKWRU6P3FSLO3T23HT41 FOREIGN KEY(RESTAURANT_RESTAURANT_ID) REFERENCES PUBLIC.RESTAURANT(RESTAURANT_ID)
ALTER TABLE PUBLIC.COOK ADD CONSTRAINT FK87W140PONBO8L8186JE13J84Y FOREIGN KEY(DISH_TYPE_DISHTYPE_ID) REFERENCES PUBLIC.DISH_TYPE(DISHTYPE_ID)
ALTER TABLE PUBLIC.COOK ADD CONSTRAINT FK_5ECTPC453TNC7VNJ6MBCNQNL7 FOREIGN KEY(RESTAURANT_RESTAURANT_ID) REFERENCES PUBLIC.RESTAURANT(RESTAURANT_ID)
ALTER TABLE PUBLIC.DISH ADD CONSTRAINT FK70TXIJNDRIOPHJSPXYAS12VVG FOREIGN KEY(DISH_TYPE_DISHTYPE_ID) REFERENCES PUBLIC.DISH_TYPE(DISHTYPE_ID)
ALTER TABLE PUBLIC.DISH ADD CONSTRAINT FK_D34B5L2TTA5VNGRR21BHB0J9R FOREIGN KEY(RESTAURANT_RESTAURANT_ID) REFERENCES PUBLIC.RESTAURANT(RESTAURANT_ID)
ALTER TABLE PUBLIC.DRINK ADD CONSTRAINT FKCGAM7P7F6Q3CT38R284B82EPP FOREIGN KEY(TYPE_DRINKTYPE_ID) REFERENCES PUBLIC.DRINK_TYPE(DRINKTYPE_ID)
ALTER TABLE PUBLIC.DRINK ADD CONSTRAINT FK_CUV4TMET35608CVNDL0VDUVM3 FOREIGN KEY(RESTAURANT_RESTAURANT_ID) REFERENCES PUBLIC.RESTAURANT(RESTAURANT_ID)
ALTER TABLE PUBLIC.EMPLOYEE ADD CONSTRAINT FKLAKY0AQC8QSXO63F80DUT074X FOREIGN KEY(RESTAURANT_RESTAURANT_ID) REFERENCES PUBLIC.RESTAURANT(RESTAURANT_ID)
ALTER TABLE PUBLIC.FOOD_DRINK_ITEM ADD CONSTRAINT FK4AN5QLDPOKB0H40Y45OVIVRO FOREIGN KEY(RESTAURANT_RESTAURANT_ID) REFERENCES PUBLIC.RESTAURANT(RESTAURANT_ID)
ALTER TABLE PUBLIC.INVITATION ADD CONSTRAINT FK1PV1EIRB9KRU55RJ1E3TFC65C FOREIGN KEY(RESERVATION_RESERVATION_ID) REFERENCES PUBLIC.RESERVATION(RESERVATION_ID)
ALTER TABLE PUBLIC.OFFER ADD CONSTRAINT FKHQQT2OMI8TJ82J4KMDPQ7Y70U FOREIGN KEY(SALESMAN_USER_ID) REFERENCES PUBLIC.SALESMAN(USER_ID)
ALTER TABLE PUBLIC.RESERVATION ADD CONSTRAINT FKRBNHJ8GJAYYMDWXAIV9AY1QLK FOREIGN KEY(RESTAURANT_RESTAURANT_ID) REFERENCES PUBLIC.RESTAURANT(RESTAURANT_ID)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 1
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 11
SET DATABASE DEFAULT INITIAL SCHEMA PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.SQL_IDENTIFIER TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.YES_OR_NO TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.TIME_STAMP TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.CARDINAL_NUMBER TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.CHARACTER_DATA TO PUBLIC
GRANT DBA TO SA
SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
SET SCHEMA PUBLIC
INSERT INTO BARMAN VALUES(55,'sanker1@live.com','Sanker','123','Sankeric','Barman','2017-02-18 00:00:00.000000',TRUE,'66','7',40)
INSERT INTO DISH VALUES(60,'dobar','Raznjic',15.0E0,40,10)
INSERT INTO DISH VALUES(61,'od sveze teletine','Teleca supa',170.0E0,40,12)
INSERT INTO DISH VALUES(62,'domaca','Sopska',197.0E0,40,11)
INSERT INTO DISH_TYPE VALUES(10,'meso')
INSERT INTO DISH_TYPE VALUES(11,'salata')
INSERT INTO DISH_TYPE VALUES(12,'supa')
INSERT INTO DRINK_TYPE VALUES(20,'bezalkoholni')
INSERT INTO DRINK_TYPE VALUES(21,'alkohol')
INSERT INTO GUEST VALUES(70,'marko@live.com','Marko','123','Bender','Guest',NULL,NULL,0)
INSERT INTO GUEST VALUES(71,'nikola@live.com','Nikola','123','Vukasinovic','Guest',NULL,NULL,0)
INSERT INTO GUEST VALUES(72,'kuka@live.com','Kuka','123','Hej','Guest','Borov Gaj 15',NULL,0)
INSERT INTO GUEST_FRIENDS VALUES(72,70)
INSERT INTO GUEST_FRIENDS VALUES(72,71)
INSERT INTO GUEST_FRIENDS VALUES(71,72)
INSERT INTO GUEST_FRIENDS VALUES(71,70)
INSERT INTO GUEST_FRIENDS VALUES(70,72)
INSERT INTO GUEST_FRIENDS VALUES(70,71)
INSERT INTO INVITATION VALUES(100,FALSE,70,90)
INSERT INTO INVITATION VALUES(101,FALSE,71,90)
INSERT INTO INVITATION VALUES(102,TRUE,70,80)
INSERT INTO INVITATION VALUES(103,FALSE,71,80)
INSERT INTO RESERVATION VALUES(80,'2017-02-28 00:00:00.000000',1,72,40)
INSERT INTO RESERVATION VALUES(90,'2017-02-07 00:00:00.000000',1,72,40)
INSERT INTO RESTAURANT VALUES(40,'itelijanska kuhinja','18.562947442888312','105.732421875','Rosetto')
INSERT INTO RESTAURANT VALUES(41,'rostilj','44.59046718130883','21.005859375','Komsa')
INSERT INTO RESTAURANT VALUES(42,'gulas','45.521743896993634','24.345703125','Klopa+')
INSERT INTO RESTAURANT_MANAGER VALUES(50,'rm1@live.com','R1','123','M1','RestaurantManager',40)
INSERT INTO RESTAURANT_MANAGER VALUES(51,'rm2@live.com','R2','123','M2','RestaurantManager',41)
INSERT INTO RESTAURANT_MANAGER VALUES(52,'rm3@live.com','R3','123','M3','RestaurantManager',42)
INSERT INTO STEWARD VALUES(56,'konobar1@live.com','Konobar','123','Konobaric','Steward','2017-02-18 00:00:00.000000',TRUE,'33','17',40)
INSERT INTO SYSTEM_MANAGER VALUES(30,'admin@live.com','Admin','123','Adminic','SystemManager')
INSERT INTO SYSTEM_MANAGER VALUES(53,'ms@live.com','M','123','S','SystemManager')
